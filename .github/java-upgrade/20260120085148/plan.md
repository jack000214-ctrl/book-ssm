
# Upgrade Plan

## Project Information
- **Project path**: c:\Project\SSLife\book-ssm
- **Working branch**: appmod/java-upgrade-20260120085148
  - Note: <span style="color:#FF9900">There are uncommitted changes in the project, which will be stashed before upgrading according to user setting "appModernization.uncommittedChangesAction".</span>
- **Java version**: 8

## Development Environment
- **Source JDK path (Java 8)**: C:\Users\DOC\.jdk\jdk-8\bin
- **Target JDK path (Java 21)**: <span style="color:red"><to be installed, or specify the path here></span>
- **Build tool type**: Maven
- **Build tool path**: C:\Users\DOC\Maven\apache-maven-3.9.6\bin
- **Build tool command options**:

> "Build tool command options" will be passed to all build tool execution commands. refer to [Maven CLI documentation](https://maven.apache.org/ref/3.1.0/maven-embedder/cli.html) for Maven options, e.g., `-Dmaven.javadoc.skip=true`. Refer to [Gradle CLI documentation](https://docs.gradle.org/current/userguide/command_line_interface.html#sec:environment_options) for Gradle options, e.g., `--info -Penv=prod`.

## Upgrade Goals
- Upgrade Java to 21 <!-- java:*:21 -->
- Upgrade Spring Framework to 6.0.x <!-- org.springframework:*:6.0.x -->

## Guidelines
> Note: You can add any specific guidelines or constraints for the upgrade process here if needed, bullet points are preferred.


## Additional Options
- Run tests before and after the upgrade: true

## Execution Plan
> Note: This section is READONLY and you can NOT modify it.

1. Set up the development environment using tool #setup_upgrade_environment.
    - Install required build tool and JDKs.
    - Validate the specified/installed build tool and JDKs.
    - Clean up working tree (stash uncommitted changes).
    - Create working branch `appmod/java-upgrade-20260120085148`.
2. Perform preliminary checks to ensure everything is ready.
3. Achieve the objectives set for each milestone one by one until the final upgrade goal is reached. At this stage, focus only on upgrading the required dependencies and Java version to meet the upgrade targets and ensuring the project can be built.
    - Milestone 1: Upgrade project to use `Spring Framework 6.0.x`, `Java 21`

    For each milestone:
    1. Upgrade the necessary dependencies and Java version to the target version for the current milestone following the guidelines provided.
    2. Continuously fix build errors through a build fix loop until that the upgrade objectives of current milestone are met and the project can be built successfully.
4. Repeatedly check for any other issue (e.g. CVE issues, code behavior changes and test failures) and fix them until the project builds successfully and all issues are fixed.
    1. Check for any CVE issues using tool #validate_cves_for_java and fix the **High, Critical** severity ones.
    2. Check for invalid code behavioral changes using tool #validate_behavior_changes and fix the **Critical** and **Major** severity ones.
    3. Check for any test errors/failures using tool #run_tests_for_java and fix those related to this upgrade.
5. Summarize all the changes made during this upgrading process using tool #summarize_upgrade after the process is complete, no matter if the project builds successfully or not.

> Please be advised that some of the code is generated by AI. While we strive for accuracy, AI-generated code may not always be 100% reliable. Please review and use at your own discretion. We highly recommend testing the code in a controlled environment before deploying into production environment.
